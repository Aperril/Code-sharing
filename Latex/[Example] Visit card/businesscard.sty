%% start of file `moderncvstyleclassic.sty'.
%% Copyright 2006-2013 Xavier Danaux (xdanaux@gmail.com).
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License version 1.3c,
% available at http://www.latex-project.org/lppl/.


%-------------------------------------------------------------------------------
%                identification
%-------------------------------------------------------------------------------
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{businesscard}[2014/06/29 v1.0 business card]


%-------------------------------------------------------------------------------
%                required packages
%-------------------------------------------------------------------------------
\RequirePackage{ifthen}%
\RequirePackage{graphicx}
\RequirePackage{fontawesome}
\RequirePackage{geometry}
\geometry{hmargin=20mm,vmargin=0.5mm}


%Symbole skype
\newcommand*{\skypesymbol} {%
      \protect\raisebox{-0.085em}{%
    \protect\begin{tikzpicture}[y=0.08em,x=0.08em,xscale=0.022,yscale=-0.022, inner sep=0pt, outer sep=0pt]
    \protect\path[fill=color2,even odd rule] (487.6550,288.9690) .. controls (489.0610,278.5690) and
      (489.8700,267.9960) .. (489.8700,257.2330) .. controls (489.8700,128.0770) and
      (384.5990,23.3610) .. (254.7670,23.3610) .. controls (241.8630,23.3610) and
      (229.2120,24.4210) .. (216.9010,26.4410) .. controls (194.8280,12.0570) and
      (168.5590,3.6740) .. (140.2880,3.6740) .. controls (62.7660,3.6740) and
      (0.0000,66.4820) .. (0.0000,143.9800) .. controls (0.0000,172.1780) and
      (8.2990,198.3740) .. (22.5900,220.3690) .. controls (20.6650,232.3860) and
      (19.6810,244.6920) .. (19.6810,257.2290) .. controls (19.6810,386.4050) and
      (124.8980,491.1100) .. (254.7660,491.1100) .. controls (269.4230,491.1100) and
      (283.6930,489.6840) .. (297.5620,487.1780) .. controls (319.1120,500.5470) and
      (344.4960,508.3260) .. (371.7080,508.3260) .. controls (449.2100,508.3260) and
      (512.0010,445.5020) .. (512.0010,368.0120) .. controls (511.9980,338.7190) and
      (503.0410,311.4840) .. (487.6550,288.9690) -- cycle(276.7400,429.5960) ..
      controls (202.0340,433.4870) and (167.0750,416.9590) .. (135.0500,386.9050) ..
      controls (99.2850,353.3370) and (113.6520,315.0500) .. (142.7900,313.1040) ..
      controls (171.9120,311.1590) and (189.3980,346.1160) .. (204.9410,355.8400) ..
      controls (220.4650,365.5280) and (279.5340,387.6000) .. (310.7350,351.9320) ..
      controls (344.7100,313.1040) and (288.1410,293.0120) .. (246.6760,286.9300) ..
      controls (187.4730,278.1640) and (112.7260,246.1370) .. (118.5410,183.0230) ..
      controls (124.3580,119.9490) and (172.1230,87.6090) .. (222.3910,83.0470) ..
      controls (286.4680,77.2300) and (328.1820,92.7540) .. (361.1760,120.9070) ..
      controls (399.3270,153.4360) and (378.6840,189.8010) .. (354.3770,192.7270) ..
      controls (330.1660,195.6360) and (302.9730,139.2230) .. (249.5860,138.3750) ..
      controls (194.5590,137.5110) and (157.3690,195.6360) .. (225.3000,212.1590) ..
      controls (293.2660,228.6640) and (366.0500,235.4450) .. (392.2610,297.5760) ..
      controls (418.4900,359.7130) and (351.5070,425.7010) .. (276.7400,429.5960) --
      cycle;
    \protect\end{tikzpicture}}%
      ~}
      
      \def\house{\hbox{\kern1pt \vbox to1pt{}% 
   \pdfliteral{q 0 0 m 0 5 l 5 10 l 10 5 l 10 0 l 7 0 l 7 5 l 3 5 l 3 0 l f
               1 j 1 J -2 5 m 5 12 l 12 5 l S Q }%
   \kern 12pt}}
   
   \usepackage[alpine]{ifsym}

%-------------------------------------------------------------------------------
%                style definition
%-------------------------------------------------------------------------------

\parindent0em
\thispagestyle{empty}

\newsavebox\mysavebox
\newenvironment{imgminipage}[3]{%
   \def\imgcmd{
   		\ifx&#3&%
   			%nothing
   		\else
   			\includegraphics[width=#2,height=#1]{#3}
   		\fi
   }%
   \begin{lrbox}{\mysavebox}%
   \begin{minipage}[][#1][t]{#2}%
   %\begin{minipage}%
}{%
   \end{minipage}
   \end{lrbox}%
   \sbox\mysavebox{\framebox{\usebox\mysavebox}}%
   \mbox{\rlap{\raisebox{-\dp\mysavebox}{\imgcmd}}\usebox\mysavebox}%
}


\newlength{\cardWidth}
\newlength{\cardHeight}
\setlength{\cardWidth}{8.5cm}
\setlength{\cardHeight}{5.5cm}
\newlength{\sepLine}
\setlength{\sepLine}{1pt}
\newlength{\mainBoxWidth}
\setlength{\mainBoxWidth}{\cardWidth}
\addtolength{\mainBoxWidth}{-2\fboxsep}
\newlength{\headerHeight}
\setlength{\headerHeight}{0.4\cardHeight}
\addtolength{\headerHeight}{-2\fboxsep}
\addtolength{\headerHeight}{-\sepLine}
\newlength{\bottomHeight}
\setlength{\bottomHeight}{0.6\cardHeight}
\addtolength{\bottomHeight}{-2\fboxsep}
\addtolength{\bottomHeight}{-\sepLine}
\newlength{\iconWidth}

\setlength{\fboxsep}{0pt} %to have no space between boxes

% defines one's name
% usage: \name{<firstname lastname>}
\newcommand*{\name}[1]{\def\varname{#1}}

% defines one's title (optional)
% usage: \title{<title>}
\renewcommand*{\title}[1]{\def\vartitle{#1}}

% defines one's email (optional)
% usage: \email{<email adress>}
\newcommand*{\email}[1]{\def\varemail{#1}}

% defines one's adress (optional)
% usage: \adress{<adress>}
	\newcommand*{\adress}[1]{\def\varadress{#1}}

% defines one's home page (optional)
% usage: \homepage{<url>}
\newcommand*{\homepage}[1]{\def\varhomepage{#1}}

% defines one's phone (optional)
% usage: \phone{<phone number>}
\newcommand*{\phone}[1]{\def\varphone{#1}}

% defines one's phone (optional)
% usage: \phone{<phone number>}
\newcommand*{\extrainfo}[1]{\def\varextrainfo{#1}}

% defines one's logo (optional)
% usage: \logo{<logo's path>}
\newcommand*{\logo}[1]{\def\varlogo{#1}}

% defines one's qr (optional)
% usage: \qr{<qr's path>}
\newcommand*{\qr}[1]{\def\varqr{#1}}%

% defines one's qr (optional)
% usage: \qr{<qr's path>}


\def\mailsymbol{{\footnotesize\faEnvelope}}
\def\adresssymbol{{\normalsize\faHome}}
\def\phonesymbol{{\Large\faMobilePhone}}
\def\homepagesymbol{{\normalsize\faGlobe}}



\newcommand{\createonecard}{
\begin{imgminipage}{\cardHeight}{\cardWidth}{}%bgIT.jpg}
  %\framebox{%border
\vspace{0.3cm}\hspace{0cm}  \parbox[][\headerHeight][c]{\mainBoxWidth}{%sup
    %\framebox{
\parbox{0.3\mainBoxWidth}{%logo
    		\ifthenelse{\isundefined{\varlogo}}
    		{\hfill}
    		{\includegraphics[width=0.3\mainBoxWidth]{\varlogo}}
    }
    %}
    %\framebox{%border
    \hspace{0.3cm}
    \parbox[c][\headerHeight][c]{0.65\mainBoxWidth}{%main info
      {\bfseries{\LARGE \varname}} 

		\ifthenelse{\isundefined{\vartitle}}
		{}
		{      
      		\par
      		\small\vartitle
      		\hfill
      	}
    }
    %}
  }
  %}

\makebox{%
  \vspace{-0.8cm}\hspace*{0.2cm}%bricolage immonde pour que la ligne commence Ã  droite de la carte sans padding
  \parbox[c]{\mainBoxWidth}{
    \raggedleft\raisebox{1pt}{
      \color{uni}\rule{0.71\mainBoxWidth}{0.25ex}
    }
  }%
}
 %
  %\framebox{%border
  \parbox[][\bottomHeight][c]{\mainBoxWidth}{%inf
    %\framebox{%border
    \hspace{15pt}\vspace{0.6cm}
    \parbox[c][0.9\bottomHeight][c]{0.64\mainBoxWidth}{%details
    \hfill
	\settowidth{\iconWidth}{\mailsymbol}
	\tiny
		%\framebox{
		\ifthenelse{\isundefined{\varemail}}
		{}
		{
		\parbox[][][c]{0.63\mainBoxWidth}{
			\makebox[\iconWidth]{
				\hspace{-0.3cm}\mailsymbol
			}
			\raisebox{3pt}{
			%\framebox{
				\hspace{-0.15cm}\varemail
			%}
			}
		}
		}
		%}
		%\framebox{
		\ifthenelse{\isundefined{\varphone}}
		{}
		{
		\parbox[][][c]{0.63\mainBoxWidth}{
			\makebox[\iconWidth]{
				\phonesymbol
			}
			\raisebox{3pt}{
			%\framebox{
				\varphone%
			%}
			}
		}
		}
		%}
%		\ifthenelse{\equal{\homepage}{}}{
		\ifthenelse{\isundefined{\varhomepage}}
		{}
		{
		%\framebox{
		\parbox[][][c]{0.63\mainBoxWidth}{
			\makebox[\iconWidth]{
				\homepagesymbol
			}
			\raisebox{3pt}{
			%\framebox{
				\varhomepage
			%}
			}
		}
		%}
		}
		%\framebox{
		\ifthenelse{\isundefined{\varadress}}
		{}
		{
		\parbox[][][c]{0.63\mainBoxWidth}{
			\makebox[\iconWidth]{
				\adresssymbol
			}
			\raisebox{3pt}{
			%\framebox{
				\varadress
			%}
			}
		}
		}
		%}
		%\framebox{
		\ifthenelse{\isundefined{\varextrainfo}}
		{}
		{
		\parbox[][][c]{0.69\mainBoxWidth}{
		\vspace{-0.1cm}
			\vspace*{5pt}
			\makebox[\iconWidth]{
			}
			\varextrainfo
		}
		}
		%}
    }
    %}
    \hspace{3pt}
    %\framebox{
    \parbox{0.2\mainBoxWidth}{%qrcode
    		\ifthenelse{\isundefined{\varqr}}
    		{\hfill}
    		{\vspace{0.5cm}\hspace{3cm}\includegraphics[width=0.25\mainBoxWidth]{\varqr}}
    }
    %}
  }
  %}
\end{imgminipage}
}

\newcommand{\createcards}{
\newcounter{counter}
\setcounter{counter}{0}
\whiledo{\value{counter}<10}{%
	\ifthenelse{\isodd{\value{counter}}}%
	{%
		\createonecard%
		\par%
	}{%
		\createonecard%
	}%
	\addtocounter{counter}{1}%
}
}


\endinput


%% end of file `moderncvstyleclassic.sty'.